<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>21 Linear Regression | Spring 2025 Semester</title>
  <meta name="description" content="21 Linear Regression | Spring 2025 Semester" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="21 Linear Regression | Spring 2025 Semester" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="21 Linear Regression | Spring 2025 Semester" />
  
  
  

<meta name="author" content="Dr. Layla Guyot" />


<meta name="date" content="2025-04-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="supervised-learning.html"/>
<link rel="next" href="model-selection.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to SDS 322E</a></li>
<li class="chapter" data-level="2" data-path="getstarted.html"><a href="getstarted.html"><i class="fa fa-check"></i><b>2</b> getstaRted</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getstarted.html"><a href="getstarted.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives:</a></li>
<li class="chapter" data-level="2.2" data-path="getstarted.html"><a href="getstarted.html#recommended-resources"><i class="fa fa-check"></i><b>2.2</b> Recommended Resources:</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>3</b> RMarkdown</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rmarkdown.html"><a href="rmarkdown.html#learning-objectives-1"><i class="fa fa-check"></i><b>3.1</b> Learning objectives</a></li>
<li class="chapter" data-level="3.2" data-path="rmarkdown.html"><a href="rmarkdown.html#basic-markdown-editing"><i class="fa fa-check"></i><b>3.2</b> 1. Basic Markdown editing</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="rmarkdown.html"><a href="rmarkdown.html#a.-headers"><i class="fa fa-check"></i><b>3.2.1</b> a. Headers</a></li>
<li class="chapter" data-level="3.2.2" data-path="rmarkdown.html"><a href="rmarkdown.html#b.-text-formatting"><i class="fa fa-check"></i><b>3.2.2</b> b. Text formatting</a></li>
<li class="chapter" data-level="3.2.3" data-path="rmarkdown.html"><a href="rmarkdown.html#c.-lists-and-bullet-points"><i class="fa fa-check"></i><b>3.2.3</b> c. Lists and bullet points</a></li>
<li class="chapter" data-level="3.2.4" data-path="rmarkdown.html"><a href="rmarkdown.html#d.-html-hyperlinks-images-tables-etc."><i class="fa fa-check"></i><b>3.2.4</b> d. HTML hyperlinks, images, tables, etc.</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="rmarkdown.html"><a href="rmarkdown.html#embedded-r-code"><i class="fa fa-check"></i><b>3.3</b> 2. Embedded R code</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="rmarkdown.html"><a href="rmarkdown.html#a.-code-chunks"><i class="fa fa-check"></i><b>3.3.1</b> a. Code chunks</a></li>
<li class="chapter" data-level="3.3.2" data-path="rmarkdown.html"><a href="rmarkdown.html#b.-more-base-r-built-in-datasets"><i class="fa fa-check"></i><b>3.3.2</b> b. More base R: built-in datasets</a></li>
<li class="chapter" data-level="3.3.3" data-path="rmarkdown.html"><a href="rmarkdown.html#c.-more-base-r-basic-plots"><i class="fa fa-check"></i><b>3.3.3</b> c. More base R: basic plots</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="rmarkdown.html"><a href="rmarkdown.html#packages"><i class="fa fa-check"></i><b>3.4</b> 3. Packages</a></li>
<li class="chapter" data-level="3.5" data-path="rmarkdown.html"><a href="rmarkdown.html#recommended-resources-1"><i class="fa fa-check"></i><b>3.5</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datasets.html"><a href="datasets.html"><i class="fa fa-check"></i><b>4</b> Datasets</a>
<ul>
<li class="chapter" data-level="4.1" data-path="datasets.html"><a href="datasets.html#learning-objectives-2"><i class="fa fa-check"></i><b>4.1</b> Learning objectives</a></li>
<li class="chapter" data-level="4.2" data-path="datasets.html"><a href="datasets.html#set-up"><i class="fa fa-check"></i><b>4.2</b> 1. Set up</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="datasets.html"><a href="datasets.html#a.-packages"><i class="fa fa-check"></i><b>4.2.1</b> a. Packages</a></li>
<li class="chapter" data-level="4.2.2" data-path="datasets.html"><a href="datasets.html#b.-importing-datasets"><i class="fa fa-check"></i><b>4.2.2</b> b. Importing datasets</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="datasets.html"><a href="datasets.html#city-of-austin-open-data-portal"><i class="fa fa-check"></i><b>4.3</b> 2. City of Austin Open Data Portal</a></li>
<li class="chapter" data-level="4.4" data-path="datasets.html"><a href="datasets.html#other-data-sources"><i class="fa fa-check"></i><b>4.4</b> 3. Other data sources</a></li>
<li class="chapter" data-level="4.5" data-path="datasets.html"><a href="datasets.html#recommended-resources-2"><i class="fa fa-check"></i><b>4.5</b> Recommended Resources:</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basic-data-manipulation.html"><a href="basic-data-manipulation.html"><i class="fa fa-check"></i><b>5</b> Basic Data Manipulation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="basic-data-manipulation.html"><a href="basic-data-manipulation.html#learning-objectives-3"><i class="fa fa-check"></i><b>5.1</b> Learning objectives</a></li>
<li class="chapter" data-level="5.2" data-path="basic-data-manipulation.html"><a href="basic-data-manipulation.html#making-sense-of-a-dataset"><i class="fa fa-check"></i><b>5.2</b> 1. Making sense of a dataset</a></li>
<li class="chapter" data-level="5.3" data-path="basic-data-manipulation.html"><a href="basic-data-manipulation.html#setting-conditions"><i class="fa fa-check"></i><b>5.3</b> 2. Setting conditions</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="basic-data-manipulation.html"><a href="basic-data-manipulation.html#a.-conditional-statements"><i class="fa fa-check"></i><b>5.3.1</b> a. Conditional statements</a></li>
<li class="chapter" data-level="5.3.2" data-path="basic-data-manipulation.html"><a href="basic-data-manipulation.html#b.-connectors"><i class="fa fa-check"></i><b>5.3.2</b> b. Connectors</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="basic-data-manipulation.html"><a href="basic-data-manipulation.html#subsetting-data"><i class="fa fa-check"></i><b>5.4</b> 3. Subsetting data</a></li>
<li class="chapter" data-level="5.5" data-path="basic-data-manipulation.html"><a href="basic-data-manipulation.html#creating-new-variables"><i class="fa fa-check"></i><b>5.5</b> 4. Creating new variables</a></li>
<li class="chapter" data-level="5.6" data-path="basic-data-manipulation.html"><a href="basic-data-manipulation.html#recommended-resources-3"><i class="fa fa-check"></i><b>5.6</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="grammar-graphics.html"><a href="grammar-graphics.html"><i class="fa fa-check"></i><b>6</b> Grammar Graphics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="grammar-graphics.html"><a href="grammar-graphics.html#learning-objectives-4"><i class="fa fa-check"></i><b>6.1</b> Learning objectives</a></li>
<li class="chapter" data-level="6.2" data-path="grammar-graphics.html"><a href="grammar-graphics.html#the-pipe"><i class="fa fa-check"></i><b>6.2</b> 1. The pipe</a></li>
<li class="chapter" data-level="6.3" data-path="grammar-graphics.html"><a href="grammar-graphics.html#create-a-ggplot"><i class="fa fa-check"></i><b>6.3</b> 2. Create a <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="grammar-graphics.html"><a href="grammar-graphics.html#a.-define-a-plot"><i class="fa fa-check"></i><b>6.3.1</b> a. Define a plot</a></li>
<li class="chapter" data-level="6.3.2" data-path="grammar-graphics.html"><a href="grammar-graphics.html#b.-add-a-geometric-object"><i class="fa fa-check"></i><b>6.3.2</b> b. Add a geometric object</a></li>
<li class="chapter" data-level="6.3.3" data-path="grammar-graphics.html"><a href="grammar-graphics.html#c.-map-to-color-shape-size"><i class="fa fa-check"></i><b>6.3.3</b> c. Map to color, shape, size</a></li>
<li class="chapter" data-level="6.3.4" data-path="grammar-graphics.html"><a href="grammar-graphics.html#d.-map-variables-to-color-shape-size"><i class="fa fa-check"></i><b>6.3.4</b> d. Map variables to color, shape, size</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="grammar-graphics.html"><a href="grammar-graphics.html#layering"><i class="fa fa-check"></i><b>6.4</b> 3. Layering</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="grammar-graphics.html"><a href="grammar-graphics.html#a.-add-labels-and-controlling-scales"><i class="fa fa-check"></i><b>6.4.1</b> a. Add labels and controlling scales</a></li>
<li class="chapter" data-level="6.4.2" data-path="grammar-graphics.html"><a href="grammar-graphics.html#b.-control-scales"><i class="fa fa-check"></i><b>6.4.2</b> b. Control scales</a></li>
<li class="chapter" data-level="6.4.3" data-path="grammar-graphics.html"><a href="grammar-graphics.html#c.-facet"><i class="fa fa-check"></i><b>6.4.3</b> c. Facet</a></li>
<li class="chapter" data-level="6.4.4" data-path="grammar-graphics.html"><a href="grammar-graphics.html#d.-color-palettes-and-themes"><i class="fa fa-check"></i><b>6.4.4</b> d. Color palettes and themes</a></li>
<li class="chapter" data-level="6.4.5" data-path="grammar-graphics.html"><a href="grammar-graphics.html#e.-themes"><i class="fa fa-check"></i><b>6.4.5</b> e. Themes</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="grammar-graphics.html"><a href="grammar-graphics.html#recommended-resources-4"><i class="fa fa-check"></i><b>6.5</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="describing1variable.html"><a href="describing1variable.html"><i class="fa fa-check"></i><b>7</b> Describing1Variable</a>
<ul>
<li class="chapter" data-level="7.1" data-path="describing1variable.html"><a href="describing1variable.html#learning-objectives-5"><i class="fa fa-check"></i><b>7.1</b> Learning objectives</a></li>
<li class="chapter" data-level="7.2" data-path="describing1variable.html"><a href="describing1variable.html#describing-1-numeric-variable"><i class="fa fa-check"></i><b>7.2</b> 1. Describing 1 numeric variable</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="describing1variable.html"><a href="describing1variable.html#a.-histogram"><i class="fa fa-check"></i><b>7.2.1</b> a. Histogram</a></li>
<li class="chapter" data-level="7.2.2" data-path="describing1variable.html"><a href="describing1variable.html#b.-boxplot"><i class="fa fa-check"></i><b>7.2.2</b> b. Boxplot</a></li>
<li class="chapter" data-level="7.2.3" data-path="describing1variable.html"><a href="describing1variable.html#c.-density-and-violin-plots"><i class="fa fa-check"></i><b>7.2.3</b> c. Density and Violin plots</a></li>
<li class="chapter" data-level="7.2.4" data-path="describing1variable.html"><a href="describing1variable.html#d.-reporting-summary-statistics"><i class="fa fa-check"></i><b>7.2.4</b> d. Reporting summary statistics</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="describing1variable.html"><a href="describing1variable.html#describing-1-categorical-variable"><i class="fa fa-check"></i><b>7.3</b> 2. Describing 1 categorical variable</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="describing1variable.html"><a href="describing1variable.html#a.-bar-plot"><i class="fa fa-check"></i><b>7.3.1</b> a. Bar plot</a></li>
<li class="chapter" data-level="7.3.2" data-path="describing1variable.html"><a href="describing1variable.html#b.-reporting-summary-statistics"><i class="fa fa-check"></i><b>7.3.2</b> b. Reporting summary statistics</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="describing1variable.html"><a href="describing1variable.html#your-turn"><i class="fa fa-check"></i><b>7.4</b> Your turn!</a></li>
<li class="chapter" data-level="7.5" data-path="describing1variable.html"><a href="describing1variable.html#recommended-resources-5"><i class="fa fa-check"></i><b>7.5</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="describing-relationships.html"><a href="describing-relationships.html"><i class="fa fa-check"></i><b>8</b> Describing Relationships</a>
<ul>
<li class="chapter" data-level="8.1" data-path="describing-relationships.html"><a href="describing-relationships.html#learning-objectives-6"><i class="fa fa-check"></i><b>8.1</b> Learning objectives</a></li>
<li class="chapter" data-level="8.2" data-path="describing-relationships.html"><a href="describing-relationships.html#comparing-two-numeric-variables"><i class="fa fa-check"></i><b>8.2</b> 1. Comparing two numeric variables</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="describing-relationships.html"><a href="describing-relationships.html#a.-using-a-scatterplot"><i class="fa fa-check"></i><b>8.2.1</b> a. Using a scatterplot</a></li>
<li class="chapter" data-level="8.2.2" data-path="describing-relationships.html"><a href="describing-relationships.html#b.-reporting-correlation"><i class="fa fa-check"></i><b>8.2.2</b> b. Reporting correlation</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="describing-relationships.html"><a href="describing-relationships.html#comparing-a-numeric-variable-and-a-categorical-variable"><i class="fa fa-check"></i><b>8.3</b> 2. Comparing a numeric variable and a categorical variable</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="describing-relationships.html"><a href="describing-relationships.html#a.-using-grouped-boxplots"><i class="fa fa-check"></i><b>8.3.1</b> a. Using grouped boxplots</a></li>
<li class="chapter" data-level="8.3.2" data-path="describing-relationships.html"><a href="describing-relationships.html#b.-using-grouped-histograms"><i class="fa fa-check"></i><b>8.3.2</b> b. Using grouped histograms</a></li>
<li class="chapter" data-level="8.3.3" data-path="describing-relationships.html"><a href="describing-relationships.html#c.-reporting-center-and-spread-for-each-category"><i class="fa fa-check"></i><b>8.3.3</b> c. Reporting center and spread for each category</a></li>
<li class="chapter" data-level="8.3.4" data-path="describing-relationships.html"><a href="describing-relationships.html#d.-using-a-special-case-of-bar-graph"><i class="fa fa-check"></i><b>8.3.4</b> d. Using a special case of bar graph</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="describing-relationships.html"><a href="describing-relationships.html#comparing-two-categorical-variables"><i class="fa fa-check"></i><b>8.4</b> 3. Comparing two categorical variables</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="describing-relationships.html"><a href="describing-relationships.html#a.-using-a-stacked-plot-not-usually-recommended"><i class="fa fa-check"></i><b>8.4.1</b> a. Using a stacked plot (not usually recommended)</a></li>
<li class="chapter" data-level="8.4.2" data-path="describing-relationships.html"><a href="describing-relationships.html#b.-using-a-segmented-bar-plot-usually-preferred"><i class="fa fa-check"></i><b>8.4.2</b> b. Using a segmented bar plot (usually preferred)</a></li>
<li class="chapter" data-level="8.4.3" data-path="describing-relationships.html"><a href="describing-relationships.html#c.-reporting-frequencies-and-relative-frequencies"><i class="fa fa-check"></i><b>8.4.3</b> c. Reporting frequencies and relative frequencies</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="describing-relationships.html"><a href="describing-relationships.html#relationships-with-more-than-2-variables"><i class="fa fa-check"></i><b>8.5</b> 4. Relationships with more than 2 variables</a></li>
<li class="chapter" data-level="8.6" data-path="describing-relationships.html"><a href="describing-relationships.html#recommended-resources-6"><i class="fa fa-check"></i><b>8.6</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>9</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="9.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#learning-objectives-7"><i class="fa fa-check"></i><b>9.1</b> Learning objectives</a></li>
<li class="chapter" data-level="9.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#gather-some-background-information"><i class="fa fa-check"></i><b>9.2</b> 1. Gather some background information</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#a.-context"><i class="fa fa-check"></i><b>9.2.1</b> a. Context</a></li>
<li class="chapter" data-level="9.2.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#b.-structure"><i class="fa fa-check"></i><b>9.2.2</b> b. Structure</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#formulate-some-research-questions"><i class="fa fa-check"></i><b>9.3</b> 2. Formulate some research questions</a></li>
<li class="chapter" data-level="9.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#investigate-trends-and-relationships"><i class="fa fa-check"></i><b>9.4</b> 3. Investigate trends and relationships</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#a.-first-look-at-univariate-distributions"><i class="fa fa-check"></i><b>9.4.1</b> a. First look at univariate distributions</a></li>
<li class="chapter" data-level="9.4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#b.-then-look-at-relationships"><i class="fa fa-check"></i><b>9.4.2</b> b. Then look at relationships</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#answer-the-questions-and-be-critical"><i class="fa fa-check"></i><b>9.5</b> 4. Answer the questions and be critical</a></li>
<li class="chapter" data-level="9.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#your-turn-1"><i class="fa fa-check"></i><b>9.6</b> Your turn!</a></li>
<li class="chapter" data-level="9.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#recommended-resources-7"><i class="fa fa-check"></i><b>9.7</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html"><i class="fa fa-check"></i><b>10</b> Grammar Data Wrangling</a>
<ul>
<li class="chapter" data-level="10.1" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#learning-objectives-8"><i class="fa fa-check"></i><b>10.1</b> Learning objectives</a></li>
<li class="chapter" data-level="10.2" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#operations-on-rowsobservations"><i class="fa fa-check"></i><b>10.2</b> 1. Operations on rows/observations</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#a.-filter"><i class="fa fa-check"></i><b>10.2.1</b> a. Filter</a></li>
<li class="chapter" data-level="10.2.2" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#b.-arrange"><i class="fa fa-check"></i><b>10.2.2</b> b. Arrange</a></li>
<li class="chapter" data-level="10.2.3" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#c.-minimummaximum-values"><i class="fa fa-check"></i><b>10.2.3</b> c. Minimum/Maximum values</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#operations-on-columns"><i class="fa fa-check"></i><b>10.3</b> 2. Operations on columns</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#a.-select"><i class="fa fa-check"></i><b>10.3.1</b> a. Select</a></li>
<li class="chapter" data-level="10.3.2" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#b.-mutate"><i class="fa fa-check"></i><b>10.3.2</b> b. Mutate</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#create-summaries"><i class="fa fa-check"></i><b>10.4</b> 3. Create summaries</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#a.-summarize"><i class="fa fa-check"></i><b>10.4.1</b> a. Summarize</a></li>
<li class="chapter" data-level="10.4.2" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#b.-group-by"><i class="fa fa-check"></i><b>10.4.2</b> b. Group by</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="grammar-data-wrangling.html"><a href="grammar-data-wrangling.html#recommended-resources-8"><i class="fa fa-check"></i><b>10.5</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="joining.html"><a href="joining.html"><i class="fa fa-check"></i><b>11</b> Joining</a>
<ul>
<li class="chapter" data-level="11.1" data-path="joining.html"><a href="joining.html#learning-objectives-9"><i class="fa fa-check"></i><b>11.1</b> Learning objectives</a></li>
<li class="chapter" data-level="11.2" data-path="joining.html"><a href="joining.html#joining-datasets"><i class="fa fa-check"></i><b>11.2</b> 1. Joining datasets</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="joining.html"><a href="joining.html#a.-inner-join"><i class="fa fa-check"></i><b>11.2.1</b> a. Inner join</a></li>
<li class="chapter" data-level="11.2.2" data-path="joining.html"><a href="joining.html#b.-left-join"><i class="fa fa-check"></i><b>11.2.2</b> b. Left join</a></li>
<li class="chapter" data-level="11.2.3" data-path="joining.html"><a href="joining.html#c.-right-join"><i class="fa fa-check"></i><b>11.2.3</b> c. Right join</a></li>
<li class="chapter" data-level="11.2.4" data-path="joining.html"><a href="joining.html#d.-full-join"><i class="fa fa-check"></i><b>11.2.4</b> d. Full join</a></li>
<li class="chapter" data-level="11.2.5" data-path="joining.html"><a href="joining.html#e.-anti-join"><i class="fa fa-check"></i><b>11.2.5</b> e. Anti join</a></li>
<li class="chapter" data-level="11.2.6" data-path="joining.html"><a href="joining.html#f.-semi-join"><i class="fa fa-check"></i><b>11.2.6</b> f. Semi join</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="joining.html"><a href="joining.html#considering-other-options-when-joining"><i class="fa fa-check"></i><b>11.3</b> 2. Considering other options when joining</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="joining.html"><a href="joining.html#a.-no-matching-key"><i class="fa fa-check"></i><b>11.3.1</b> a. No matching key</a></li>
<li class="chapter" data-level="11.3.2" data-path="joining.html"><a href="joining.html#b.-auto-suffixing"><i class="fa fa-check"></i><b>11.3.2</b> b. Auto-suffixing</a></li>
<li class="chapter" data-level="11.3.3" data-path="joining.html"><a href="joining.html#c.-duplicates"><i class="fa fa-check"></i><b>11.3.3</b> c. Duplicates</a></li>
<li class="chapter" data-level="11.3.4" data-path="joining.html"><a href="joining.html#d.-several-key-variables"><i class="fa fa-check"></i><b>11.3.4</b> d. Several key variables</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="joining.html"><a href="joining.html#recommended-resources-9"><i class="fa fa-check"></i><b>11.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tidying.html"><a href="tidying.html"><i class="fa fa-check"></i><b>12</b> Tidying</a>
<ul>
<li class="chapter" data-level="12.1" data-path="tidying.html"><a href="tidying.html#learning-objectives-10"><i class="fa fa-check"></i><b>12.1</b> Learning objectives</a></li>
<li class="chapter" data-level="12.2" data-path="tidying.html"><a href="tidying.html#pivoting"><i class="fa fa-check"></i><b>12.2</b> 1. Pivoting</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="tidying.html"><a href="tidying.html#a.-wide-to-long"><i class="fa fa-check"></i><b>12.2.1</b> a. Wide to long</a></li>
<li class="chapter" data-level="12.2.2" data-path="tidying.html"><a href="tidying.html#b.-long-to-wide"><i class="fa fa-check"></i><b>12.2.2</b> b. Long to wide</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="tidying.html"><a href="tidying.html#separating-or-uniting-variables"><i class="fa fa-check"></i><b>12.3</b> 2. Separating or uniting variables</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="tidying.html"><a href="tidying.html#a.-separate"><i class="fa fa-check"></i><b>12.3.1</b> a. Separate</a></li>
<li class="chapter" data-level="12.3.2" data-path="tidying.html"><a href="tidying.html#b.-unite"><i class="fa fa-check"></i><b>12.3.2</b> b. Unite</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="tidying.html"><a href="tidying.html#your-turn-2"><i class="fa fa-check"></i><b>12.4</b> Your turn!</a></li>
<li class="chapter" data-level="12.5" data-path="tidying.html"><a href="tidying.html#recommended-resources-10"><i class="fa fa-check"></i><b>12.5</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html"><i class="fa fa-check"></i><b>13</b> Strings Reg Ex</a>
<ul>
<li class="chapter" data-level="13.1" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#learning-objectives-11"><i class="fa fa-check"></i><b>13.1</b> Learning objectives</a></li>
<li class="chapter" data-level="13.2" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#strings"><i class="fa fa-check"></i><b>13.2</b> 1. Strings</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#a.-calculating-length"><i class="fa fa-check"></i><b>13.2.1</b> a. Calculating length</a></li>
<li class="chapter" data-level="13.2.2" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#b.-combining-strings"><i class="fa fa-check"></i><b>13.2.2</b> b. Combining strings</a></li>
<li class="chapter" data-level="13.2.3" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#c.-changing-cases"><i class="fa fa-check"></i><b>13.2.3</b> c. Changing cases</a></li>
<li class="chapter" data-level="13.2.4" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#d.-subsetting-strings"><i class="fa fa-check"></i><b>13.2.4</b> d. Subsetting strings</a></li>
<li class="chapter" data-level="13.2.5" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#e.-finding-exact-matches-in-strings"><i class="fa fa-check"></i><b>13.2.5</b> e. Finding (exact) matches in strings</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#regular-expressions-regex"><i class="fa fa-check"></i><b>13.3</b> 2. Regular expressions (Regex)</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#a.-wildcards"><i class="fa fa-check"></i><b>13.3.1</b> a. Wildcards</a></li>
<li class="chapter" data-level="13.3.2" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#b.-anchors"><i class="fa fa-check"></i><b>13.3.2</b> b. Anchors</a></li>
<li class="chapter" data-level="13.3.3" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#c.-flexible-patterns"><i class="fa fa-check"></i><b>13.3.3</b> c. Flexible patterns</a></li>
<li class="chapter" data-level="13.3.4" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#d.-special-characters"><i class="fa fa-check"></i><b>13.3.4</b> d. Special characters</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="strings-reg-ex.html"><a href="strings-reg-ex.html#recommended-resources-11"><i class="fa fa-check"></i><b>13.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="dates-times.html"><a href="dates-times.html"><i class="fa fa-check"></i><b>14</b> Dates Times</a>
<ul>
<li class="chapter" data-level="14.1" data-path="dates-times.html"><a href="dates-times.html#learning-objectives-12"><i class="fa fa-check"></i><b>14.1</b> Learning objectives</a></li>
<li class="chapter" data-level="14.2" data-path="dates-times.html"><a href="dates-times.html#parsing-dates-and-times"><i class="fa fa-check"></i><b>14.2</b> 1. Parsing dates and times</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="dates-times.html"><a href="dates-times.html#a.-r-formats"><i class="fa fa-check"></i><b>14.2.1</b> a. R formats</a></li>
<li class="chapter" data-level="14.2.2" data-path="dates-times.html"><a href="dates-times.html#b.-combining-datetime-components"><i class="fa fa-check"></i><b>14.2.2</b> b. Combining date/time components</a></li>
<li class="chapter" data-level="14.2.3" data-path="dates-times.html"><a href="dates-times.html#c.-extracting-parts-of-the-date"><i class="fa fa-check"></i><b>14.2.3</b> c. Extracting part(s) of the date</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="dates-times.html"><a href="dates-times.html#manipulating-dates-and-times"><i class="fa fa-check"></i><b>14.3</b> 2. Manipulating dates and times</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="dates-times.html"><a href="dates-times.html#a.-finding-differences-between-dates-and-times"><i class="fa fa-check"></i><b>14.3.1</b> a. Finding differences between dates and times</a></li>
<li class="chapter" data-level="14.3.2" data-path="dates-times.html"><a href="dates-times.html#b.-summarizing-datetime-data"><i class="fa fa-check"></i><b>14.3.2</b> b. Summarizing date/time data</a></li>
<li class="chapter" data-level="14.3.3" data-path="dates-times.html"><a href="dates-times.html#c.-a-few-remarks"><i class="fa fa-check"></i><b>14.3.3</b> c. A few remarks</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="dates-times.html"><a href="dates-times.html#recommended-resources-12"><i class="fa fa-check"></i><b>14.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="recoding.html"><a href="recoding.html"><i class="fa fa-check"></i><b>15</b> Recoding</a>
<ul>
<li class="chapter" data-level="15.1" data-path="recoding.html"><a href="recoding.html#learning-objectives-13"><i class="fa fa-check"></i><b>15.1</b> Learning objectives</a></li>
<li class="chapter" data-level="15.2" data-path="recoding.html"><a href="recoding.html#consider-numeric-variables-as-categorical-variables"><i class="fa fa-check"></i><b>15.2</b> 1. Consider numeric variables as categorical variables</a></li>
<li class="chapter" data-level="15.3" data-path="recoding.html"><a href="recoding.html#consider-a-log-transformations-for-numeric-variables-that-are-highly-skewed"><i class="fa fa-check"></i><b>15.3</b> 2. Consider a log-transformations for numeric variables that are highly skewed</a></li>
<li class="chapter" data-level="15.4" data-path="recoding.html"><a href="recoding.html#recoding-categories"><i class="fa fa-check"></i><b>15.4</b> 3. Recoding categories</a></li>
<li class="chapter" data-level="15.5" data-path="recoding.html"><a href="recoding.html#your-turn-3"><i class="fa fa-check"></i><b>15.5</b> Your turn!</a></li>
<li class="chapter" data-level="15.6" data-path="recoding.html"><a href="recoding.html#recommended-resources-13"><i class="fa fa-check"></i><b>15.6</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html"><i class="fa fa-check"></i><b>16</b> Missing Data Extreme</a>
<ul>
<li class="chapter" data-level="16.1" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#learning-objectives-14"><i class="fa fa-check"></i><b>16.1</b> Learning objectives</a></li>
<li class="chapter" data-level="16.2" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#missing-data"><i class="fa fa-check"></i><b>16.2</b> 1. Missing data</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#a.-r-messages"><i class="fa fa-check"></i><b>16.2.1</b> a. R messages</a></li>
<li class="chapter" data-level="16.2.2" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#b.-making-sense-of-the-structure"><i class="fa fa-check"></i><b>16.2.2</b> b. Making sense of the structure</a></li>
<li class="chapter" data-level="16.2.3" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#c.-handling-missing-values"><i class="fa fa-check"></i><b>16.2.3</b> c. Handling missing values</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#extreme-values"><i class="fa fa-check"></i><b>16.3</b> 2. Extreme values</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#a.-checking-extreme-values"><i class="fa fa-check"></i><b>16.3.1</b> a. Checking extreme values</a></li>
<li class="chapter" data-level="16.3.2" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#b.-representing-extreme-values"><i class="fa fa-check"></i><b>16.3.2</b> b. Representing extreme values</a></li>
<li class="chapter" data-level="16.3.3" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#c.-handling-extreme-values"><i class="fa fa-check"></i><b>16.3.3</b> c. Handling extreme values</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="missing-data-extreme.html"><a href="missing-data-extreme.html#recommended-resources-14"><i class="fa fa-check"></i><b>16.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>17</b> Web Scraping</a>
<ul>
<li class="chapter" data-level="17.1" data-path="web-scraping.html"><a href="web-scraping.html#learning-objectives-15"><i class="fa fa-check"></i><b>17.1</b> Learning objectives</a></li>
<li class="chapter" data-level="17.2" data-path="web-scraping.html"><a href="web-scraping.html#web-scraping-data-with-code"><i class="fa fa-check"></i><b>17.2</b> 1. Web scraping data with code</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="web-scraping.html"><a href="web-scraping.html#a.-using-element-tags"><i class="fa fa-check"></i><b>17.2.1</b> a. Using element tags</a></li>
<li class="chapter" data-level="17.2.2" data-path="web-scraping.html"><a href="web-scraping.html#b.-using-element-types"><i class="fa fa-check"></i><b>17.2.2</b> b. Using element types</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="web-scraping.html"><a href="web-scraping.html#web-scraping-and-ethics"><i class="fa fa-check"></i><b>17.3</b> 2. Web scraping and ethics</a></li>
<li class="chapter" data-level="17.4" data-path="web-scraping.html"><a href="web-scraping.html#recommended-resources-15"><i class="fa fa-check"></i><b>17.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="text-mining.html"><a href="text-mining.html"><i class="fa fa-check"></i><b>18</b> Text Mining</a>
<ul>
<li class="chapter" data-level="18.1" data-path="text-mining.html"><a href="text-mining.html#learning-objectives-16"><i class="fa fa-check"></i><b>18.1</b> Learning objectives</a></li>
<li class="chapter" data-level="18.2" data-path="text-mining.html"><a href="text-mining.html#text-data"><i class="fa fa-check"></i><b>18.2</b> 1. Text data</a></li>
<li class="chapter" data-level="18.3" data-path="text-mining.html"><a href="text-mining.html#stop-words"><i class="fa fa-check"></i><b>18.3</b> 2. Stop words</a></li>
<li class="chapter" data-level="18.4" data-path="text-mining.html"><a href="text-mining.html#word-clouds"><i class="fa fa-check"></i><b>18.4</b> 3. Word Clouds</a></li>
<li class="chapter" data-level="18.5" data-path="text-mining.html"><a href="text-mining.html#sentiment-analysis"><i class="fa fa-check"></i><b>18.5</b> 4. Sentiment analysis</a>
<ul>
<li class="chapter" data-level="18.5.1" data-path="text-mining.html"><a href="text-mining.html#a.-positivenegative-sentiments"><i class="fa fa-check"></i><b>18.5.1</b> a. Positive/Negative sentiments</a></li>
<li class="chapter" data-level="18.5.2" data-path="text-mining.html"><a href="text-mining.html#b.-scoring-sentiments"><i class="fa fa-check"></i><b>18.5.2</b> b. Scoring sentiments</a></li>
<li class="chapter" data-level="18.5.3" data-path="text-mining.html"><a href="text-mining.html#c.-using-a-wide-range-of-sentiments"><i class="fa fa-check"></i><b>18.5.3</b> c. Using a wide range of sentiments</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="text-mining.html"><a href="text-mining.html#recommended-resources-16"><i class="fa fa-check"></i><b>18.6</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="sentiment-analysis-1.html"><a href="sentiment-analysis-1.html"><i class="fa fa-check"></i><b>19</b> Sentiment Analysis</a>
<ul>
<li class="chapter" data-level="19.1" data-path="sentiment-analysis-1.html"><a href="sentiment-analysis-1.html#learning-objectives-17"><i class="fa fa-check"></i><b>19.1</b> Learning objectives</a></li>
<li class="chapter" data-level="19.2" data-path="sentiment-analysis-1.html"><a href="sentiment-analysis-1.html#positivenegative-sentiments"><i class="fa fa-check"></i><b>19.2</b> 1. Positive/Negative sentiments</a></li>
<li class="chapter" data-level="19.3" data-path="sentiment-analysis-1.html"><a href="sentiment-analysis-1.html#scoring-sentiments"><i class="fa fa-check"></i><b>19.3</b> 2. Scoring sentiments</a></li>
<li class="chapter" data-level="19.4" data-path="sentiment-analysis-1.html"><a href="sentiment-analysis-1.html#using-a-wide-range-of-sentiments"><i class="fa fa-check"></i><b>19.4</b> 3. Using a wide range of sentiments</a></li>
<li class="chapter" data-level="19.5" data-path="sentiment-analysis-1.html"><a href="sentiment-analysis-1.html#recommended-resources-17"><i class="fa fa-check"></i><b>19.5</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="supervised-learning.html"><a href="supervised-learning.html"><i class="fa fa-check"></i><b>20</b> Supervised Learning</a>
<ul>
<li class="chapter" data-level="20.1" data-path="supervised-learning.html"><a href="supervised-learning.html#learning-objectives-18"><i class="fa fa-check"></i><b>20.1</b> Learning objectives</a></li>
<li class="chapter" data-level="20.2" data-path="supervised-learning.html"><a href="supervised-learning.html#defining-a-model"><i class="fa fa-check"></i><b>20.2</b> 1. Defining a model</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="supervised-learning.html"><a href="supervised-learning.html#a.-a-model-with-no-predictor"><i class="fa fa-check"></i><b>20.2.1</b> a. A model with no predictor</a></li>
<li class="chapter" data-level="20.2.2" data-path="supervised-learning.html"><a href="supervised-learning.html#b.-some-models-with-one-predictor"><i class="fa fa-check"></i><b>20.2.2</b> b. Some models with one predictor</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="supervised-learning.html"><a href="supervised-learning.html#comparing-models"><i class="fa fa-check"></i><b>20.3</b> 2. Comparing models</a></li>
<li class="chapter" data-level="20.4" data-path="supervised-learning.html"><a href="supervised-learning.html#recommended-resources-18"><i class="fa fa-check"></i><b>20.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>21</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="21.1" data-path="linear-regression.html"><a href="linear-regression.html#learning-objectives-19"><i class="fa fa-check"></i><b>21.1</b> Learning objectives</a></li>
<li class="chapter" data-level="21.2" data-path="linear-regression.html"><a href="linear-regression.html#predicting-a-numeric-response-with-a-numeric-predictor"><i class="fa fa-check"></i><b>21.2</b> 1. Predicting a numeric response with a numeric predictor</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="linear-regression.html"><a href="linear-regression.html#a.-visualizing-the-model"><i class="fa fa-check"></i><b>21.2.1</b> a. Visualizing the model</a></li>
<li class="chapter" data-level="21.2.2" data-path="linear-regression.html"><a href="linear-regression.html#b.-fitting-a-model"><i class="fa fa-check"></i><b>21.2.2</b> b. Fitting a model</a></li>
<li class="chapter" data-level="21.2.3" data-path="linear-regression.html"><a href="linear-regression.html#c.-predicting-values"><i class="fa fa-check"></i><b>21.2.3</b> c. Predicting values</a></li>
<li class="chapter" data-level="21.2.4" data-path="linear-regression.html"><a href="linear-regression.html#d.-residuals"><i class="fa fa-check"></i><b>21.2.4</b> d. Residuals</a></li>
<li class="chapter" data-level="21.2.5" data-path="linear-regression.html"><a href="linear-regression.html#e.-performance"><i class="fa fa-check"></i><b>21.2.5</b> e. Performance</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="linear-regression.html"><a href="linear-regression.html#using-a-categorical-predictor"><i class="fa fa-check"></i><b>21.3</b> 2. Using a categorical predictor</a></li>
<li class="chapter" data-level="21.4" data-path="linear-regression.html"><a href="linear-regression.html#using-multiple-predictors"><i class="fa fa-check"></i><b>21.4</b> 3. Using multiple predictors</a></li>
<li class="chapter" data-level="21.5" data-path="linear-regression.html"><a href="linear-regression.html#recommended-resources-19"><i class="fa fa-check"></i><b>21.5</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="model-selection.html"><a href="model-selection.html"><i class="fa fa-check"></i><b>22</b> Model Selection</a>
<ul>
<li class="chapter" data-level="22.1" data-path="model-selection.html"><a href="model-selection.html#learning-objectives-20"><i class="fa fa-check"></i><b>22.1</b> Learning objectives</a></li>
<li class="chapter" data-level="22.2" data-path="model-selection.html"><a href="model-selection.html#choosing-predictors"><i class="fa fa-check"></i><b>22.2</b> 1. Choosing predictors</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="model-selection.html"><a href="model-selection.html#a.-predictors-that-do-not-make-sense"><i class="fa fa-check"></i><b>22.2.1</b> a. Predictors that do not make sense</a></li>
<li class="chapter" data-level="22.2.2" data-path="model-selection.html"><a href="model-selection.html#b.-exploring-relationships"><i class="fa fa-check"></i><b>22.2.2</b> b. Exploring relationships</a></li>
<li class="chapter" data-level="22.2.3" data-path="model-selection.html"><a href="model-selection.html#c.-model-fit-and-predictions"><i class="fa fa-check"></i><b>22.2.3</b> c. Model fit and predictions</a></li>
<li class="chapter" data-level="22.2.4" data-path="model-selection.html"><a href="model-selection.html#d.-performance"><i class="fa fa-check"></i><b>22.2.4</b> d. Performance</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="model-selection.html"><a href="model-selection.html#comparing-models-1"><i class="fa fa-check"></i><b>22.3</b> 2. Comparing models</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="model-selection.html"><a href="model-selection.html#a.-using-multiple-predictors"><i class="fa fa-check"></i><b>22.3.1</b> a. Using multiple predictors</a></li>
<li class="chapter" data-level="22.3.2" data-path="model-selection.html"><a href="model-selection.html#b.-testing-for-new-data"><i class="fa fa-check"></i><b>22.3.2</b> b. Testing for “new” data</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="model-selection.html"><a href="model-selection.html#recommended-resources-20"><i class="fa fa-check"></i><b>22.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="introduction-classification.html"><a href="introduction-classification.html"><i class="fa fa-check"></i><b>23</b> Introduction Classification</a>
<ul>
<li class="chapter" data-level="23.1" data-path="introduction-classification.html"><a href="introduction-classification.html#learning-objectives-21"><i class="fa fa-check"></i><b>23.1</b> Learning objectives</a></li>
<li class="chapter" data-level="23.2" data-path="introduction-classification.html"><a href="introduction-classification.html#basic-classifications"><i class="fa fa-check"></i><b>23.2</b> 1. Basic classifications</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="introduction-classification.html"><a href="introduction-classification.html#a.-random-classification"><i class="fa fa-check"></i><b>23.2.1</b> a. Random classification</a></li>
<li class="chapter" data-level="23.2.2" data-path="introduction-classification.html"><a href="introduction-classification.html#b.-classification-based-on-1-variable"><i class="fa fa-check"></i><b>23.2.2</b> b. Classification based on 1 variable</a></li>
<li class="chapter" data-level="23.2.3" data-path="introduction-classification.html"><a href="introduction-classification.html#c.-classification-based-on-any-cutoff-value"><i class="fa fa-check"></i><b>23.2.3</b> c. Classification based on any cutoff value</a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="introduction-classification.html"><a href="introduction-classification.html#metrics"><i class="fa fa-check"></i><b>23.3</b> 2. Metrics</a></li>
<li class="chapter" data-level="23.4" data-path="introduction-classification.html"><a href="introduction-classification.html#rocauc"><i class="fa fa-check"></i><b>23.4</b> 3. ROC/AUC</a>
<ul>
<li class="chapter" data-level="23.4.1" data-path="introduction-classification.html"><a href="introduction-classification.html#a.-receiver-operating-characteristics-roc-curve"><i class="fa fa-check"></i><b>23.4.1</b> a. Receiver Operating Characteristics (ROC) curve</a></li>
<li class="chapter" data-level="23.4.2" data-path="introduction-classification.html"><a href="introduction-classification.html#b.-area-under-the-curve-auc"><i class="fa fa-check"></i><b>23.4.2</b> b. Area under the curve (AUC)</a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="introduction-classification.html"><a href="introduction-classification.html#recommended-resources-21"><i class="fa fa-check"></i><b>23.5</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>24</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="24.1" data-path="logistic-regression.html"><a href="logistic-regression.html#learning-objectives-22"><i class="fa fa-check"></i><b>24.1</b> Learning objectives</a></li>
<li class="chapter" data-level="24.2" data-path="logistic-regression.html"><a href="logistic-regression.html#predicting-a-binary-response-with-a-numeric-predictor"><i class="fa fa-check"></i><b>24.2</b> 1. Predicting a binary response with a numeric predictor</a>
<ul>
<li class="chapter" data-level="24.2.1" data-path="logistic-regression.html"><a href="logistic-regression.html#a.-visualizing-the-model-1"><i class="fa fa-check"></i><b>24.2.1</b> a. Visualizing the model</a></li>
<li class="chapter" data-level="24.2.2" data-path="logistic-regression.html"><a href="logistic-regression.html#b.-fitting-a-model-1"><i class="fa fa-check"></i><b>24.2.2</b> b. Fitting a model</a></li>
<li class="chapter" data-level="24.2.3" data-path="logistic-regression.html"><a href="logistic-regression.html#c.-making-predictions"><i class="fa fa-check"></i><b>24.2.3</b> c. Making predictions</a></li>
<li class="chapter" data-level="24.2.4" data-path="logistic-regression.html"><a href="logistic-regression.html#d.-error-in-predicted-values"><i class="fa fa-check"></i><b>24.2.4</b> d. Error in predicted values</a></li>
<li class="chapter" data-level="24.2.5" data-path="logistic-regression.html"><a href="logistic-regression.html#e.-performance-1"><i class="fa fa-check"></i><b>24.2.5</b> e. Performance</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="logistic-regression.html"><a href="logistic-regression.html#using-multiple-predictors-1"><i class="fa fa-check"></i><b>24.3</b> 2. Using multiple predictors</a></li>
<li class="chapter" data-level="24.4" data-path="logistic-regression.html"><a href="logistic-regression.html#recommended-resources-22"><i class="fa fa-check"></i><b>24.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="other-models.html"><a href="other-models.html"><i class="fa fa-check"></i><b>25</b> Other Models</a>
<ul>
<li class="chapter" data-level="25.1" data-path="other-models.html"><a href="other-models.html#learning-objectives-23"><i class="fa fa-check"></i><b>25.1</b> Learning objectives</a></li>
<li class="chapter" data-level="25.2" data-path="other-models.html"><a href="other-models.html#decision-trees-for-a-numeric-outcome"><i class="fa fa-check"></i><b>25.2</b> 1. Decision trees for a numeric outcome</a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="other-models.html"><a href="other-models.html#a.-fitting-a-model"><i class="fa fa-check"></i><b>25.2.1</b> a. Fitting a model</a></li>
<li class="chapter" data-level="25.2.2" data-path="other-models.html"><a href="other-models.html#b.-visualizing-the-model"><i class="fa fa-check"></i><b>25.2.2</b> b. Visualizing the model</a></li>
<li class="chapter" data-level="25.2.3" data-path="other-models.html"><a href="other-models.html#c.-making-predictions-1"><i class="fa fa-check"></i><b>25.2.3</b> c. Making predictions</a></li>
<li class="chapter" data-level="25.2.4" data-path="other-models.html"><a href="other-models.html#d.-evaluating-performance"><i class="fa fa-check"></i><b>25.2.4</b> d. Evaluating performance</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="other-models.html"><a href="other-models.html#decision-trees-for-a-categorical-outcome"><i class="fa fa-check"></i><b>25.3</b> 2. Decision trees for a categorical outcome</a>
<ul>
<li class="chapter" data-level="25.3.1" data-path="other-models.html"><a href="other-models.html#a.-fitting-a-model-1"><i class="fa fa-check"></i><b>25.3.1</b> a. Fitting a model</a></li>
<li class="chapter" data-level="25.3.2" data-path="other-models.html"><a href="other-models.html#b.-visualizing-the-model-1"><i class="fa fa-check"></i><b>25.3.2</b> b. Visualizing the model</a></li>
<li class="chapter" data-level="25.3.3" data-path="other-models.html"><a href="other-models.html#c.-making-predictions-2"><i class="fa fa-check"></i><b>25.3.3</b> c. Making predictions</a></li>
<li class="chapter" data-level="25.3.4" data-path="other-models.html"><a href="other-models.html#d.-evaluating-performance-1"><i class="fa fa-check"></i><b>25.3.4</b> d. Evaluating performance</a></li>
<li class="chapter" data-level="25.3.5" data-path="other-models.html"><a href="other-models.html#e.-predicting-more-than-2-outcomes"><i class="fa fa-check"></i><b>25.3.5</b> e. Predicting more than 2 outcomes</a></li>
</ul></li>
<li class="chapter" data-level="25.4" data-path="other-models.html"><a href="other-models.html#recommended-resources-23"><i class="fa fa-check"></i><b>25.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="cross-validation.html"><a href="cross-validation.html"><i class="fa fa-check"></i><b>26</b> Cross Validation</a>
<ul>
<li class="chapter" data-level="26.1" data-path="cross-validation.html"><a href="cross-validation.html#learning-objectives-24"><i class="fa fa-check"></i><b>26.1</b> Learning objectives</a></li>
<li class="chapter" data-level="26.2" data-path="cross-validation.html"><a href="cross-validation.html#fit-a-model-on-the-entire-dataset"><i class="fa fa-check"></i><b>26.2</b> 1. Fit a model on the entire dataset</a></li>
<li class="chapter" data-level="26.3" data-path="cross-validation.html"><a href="cross-validation.html#train-and-test-a-model"><i class="fa fa-check"></i><b>26.3</b> 2. Train and Test a model</a>
<ul>
<li class="chapter" data-level="26.3.1" data-path="cross-validation.html"><a href="cross-validation.html#a.-train-the-model-on-the-train-set"><i class="fa fa-check"></i><b>26.3.1</b> a. Train the model on the train set</a></li>
<li class="chapter" data-level="26.3.2" data-path="cross-validation.html"><a href="cross-validation.html#b.-test-the-model-on-the-test-set"><i class="fa fa-check"></i><b>26.3.2</b> b. Test the model on the test set</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="cross-validation.html"><a href="cross-validation.html#k-fold-cross-validation"><i class="fa fa-check"></i><b>26.4</b> 3. k-fold cross-validation</a>
<ul>
<li class="chapter" data-level="26.4.1" data-path="cross-validation.html"><a href="cross-validation.html#a.-define-algorithm"><i class="fa fa-check"></i><b>26.4.1</b> a. Define algorithm</a></li>
<li class="chapter" data-level="26.4.2" data-path="cross-validation.html"><a href="cross-validation.html#b.-create-folds"><i class="fa fa-check"></i><b>26.4.2</b> b. Create folds</a></li>
<li class="chapter" data-level="26.4.3" data-path="cross-validation.html"><a href="cross-validation.html#c.-repeat-the-process"><i class="fa fa-check"></i><b>26.4.3</b> c. Repeat the process</a></li>
<li class="chapter" data-level="26.4.4" data-path="cross-validation.html"><a href="cross-validation.html#d.-evaluate-average-performance"><i class="fa fa-check"></i><b>26.4.4</b> d. Evaluate average performance</a></li>
</ul></li>
<li class="chapter" data-level="26.5" data-path="cross-validation.html"><a href="cross-validation.html#recommended-resources-24"><i class="fa fa-check"></i><b>26.5</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>27</b> Unsupervised Learning</a>
<ul>
<li class="chapter" data-level="27.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#learning-objectives-25"><i class="fa fa-check"></i><b>27.1</b> Learning objectives</a></li>
<li class="chapter" data-level="27.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#distances"><i class="fa fa-check"></i><b>27.2</b> 1. Distances</a>
<ul>
<li class="chapter" data-level="27.2.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#a.-euclidean-distance"><i class="fa fa-check"></i><b>27.2.1</b> a. Euclidean distance</a></li>
<li class="chapter" data-level="27.2.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#b.-scaling"><i class="fa fa-check"></i><b>27.2.2</b> b. Scaling</a></li>
</ul></li>
<li class="chapter" data-level="27.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#correlation"><i class="fa fa-check"></i><b>27.3</b> 2. Correlation</a>
<ul>
<li class="chapter" data-level="27.3.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#a.-correlation-coefficient"><i class="fa fa-check"></i><b>27.3.1</b> a. Correlation Coefficient</a></li>
<li class="chapter" data-level="27.3.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#b.-correlation-matrix"><i class="fa fa-check"></i><b>27.3.2</b> b. Correlation Matrix</a></li>
<li class="chapter" data-level="27.3.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#c.-combining-variables"><i class="fa fa-check"></i><b>27.3.3</b> c. Combining variables</a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#recommended-resources-25"><i class="fa fa-check"></i><b>27.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="dimension-reduction.html"><a href="dimension-reduction.html"><i class="fa fa-check"></i><b>28</b> Dimension Reduction</a>
<ul>
<li class="chapter" data-level="28.1" data-path="dimension-reduction.html"><a href="dimension-reduction.html#learning-objectives-26"><i class="fa fa-check"></i><b>28.1</b> Learning objectives</a></li>
<li class="chapter" data-level="28.2" data-path="dimension-reduction.html"><a href="dimension-reduction.html#principal-component-analysis"><i class="fa fa-check"></i><b>28.2</b> 1. Principal Component Analysis</a>
<ul>
<li class="chapter" data-level="28.2.1" data-path="dimension-reduction.html"><a href="dimension-reduction.html#a.-prepare-the-dataset-and-explore-correlations"><i class="fa fa-check"></i><b>28.2.1</b> a. Prepare the dataset and explore correlations</a></li>
<li class="chapter" data-level="28.2.2" data-path="dimension-reduction.html"><a href="dimension-reduction.html#b.-perform-pca"><i class="fa fa-check"></i><b>28.2.2</b> b. Perform PCA</a></li>
<li class="chapter" data-level="28.2.3" data-path="dimension-reduction.html"><a href="dimension-reduction.html#c.-choose-the-number-of-principal-components"><i class="fa fa-check"></i><b>28.2.3</b> c. Choose the number of principal components</a></li>
<li class="chapter" data-level="28.2.4" data-path="dimension-reduction.html"><a href="dimension-reduction.html#d.-interpret-componentsdimensions"><i class="fa fa-check"></i><b>28.2.4</b> d. Interpret components/dimensions</a></li>
</ul></li>
<li class="chapter" data-level="28.3" data-path="dimension-reduction.html"><a href="dimension-reduction.html#some-considerations-for-using-pca"><i class="fa fa-check"></i><b>28.3</b> 2. Some considerations for using PCA</a></li>
<li class="chapter" data-level="28.4" data-path="dimension-reduction.html"><a href="dimension-reduction.html#recommended-resources-26"><i class="fa fa-check"></i><b>28.4</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>29</b> Clustering</a>
<ul>
<li class="chapter" data-level="29.1" data-path="clustering.html"><a href="clustering.html#learning-objectives-27"><i class="fa fa-check"></i><b>29.1</b> Learning objectives</a></li>
<li class="chapter" data-level="29.2" data-path="clustering.html"><a href="clustering.html#clustering-1"><i class="fa fa-check"></i><b>29.2</b> 1. Clustering</a>
<ul>
<li class="chapter" data-level="29.2.1" data-path="clustering.html"><a href="clustering.html#a.-prepare-the-data"><i class="fa fa-check"></i><b>29.2.1</b> a. Prepare the data</a></li>
<li class="chapter" data-level="29.2.2" data-path="clustering.html"><a href="clustering.html#b.-apply-the-algorithm"><i class="fa fa-check"></i><b>29.2.2</b> b. Apply the algorithm</a></li>
<li class="chapter" data-level="29.2.3" data-path="clustering.html"><a href="clustering.html#c.-visualize-and-interpret-the-clusters"><i class="fa fa-check"></i><b>29.2.3</b> c. Visualize and interpret the clusters</a></li>
<li class="chapter" data-level="29.2.4" data-path="clustering.html"><a href="clustering.html#d.-choose-the-number-of-clusters"><i class="fa fa-check"></i><b>29.2.4</b> d. Choose the number of clusters</a></li>
</ul></li>
<li class="chapter" data-level="29.3" data-path="clustering.html"><a href="clustering.html#include-more-variables-in-clustering"><i class="fa fa-check"></i><b>29.3</b> 2. Include more variables in clustering</a></li>
<li class="chapter" data-level="29.4" data-path="clustering.html"><a href="clustering.html#your-turn-4"><i class="fa fa-check"></i><b>29.4</b> <strong>Your turn!</strong></a></li>
<li class="chapter" data-level="29.5" data-path="clustering.html"><a href="clustering.html#recommended-resources-27"><i class="fa fa-check"></i><b>29.5</b> Recommended Resources</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Spring 2025 Semester</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="linear-regression" class="section level1 hasAnchor" number="21">
<h1><span class="header-section-number">21</span> Linear Regression<a href="linear-regression.html#linear-regression" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<hr />
<div id="learning-objectives-19" class="section level2 hasAnchor" number="21.1">
<h2><span class="header-section-number">21.1</span> Learning objectives<a href="linear-regression.html#learning-objectives-19" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Learn how to fit a linear regression model.</li>
<li>Visualize regression models.</li>
<li>Interpret the output of a linear regression model, including coefficients, residuals, and performance.</li>
</ol>
<hr />
<p>Start your workflow by uploading the <code>tidyverse</code> package as always:</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="linear-regression.html#cb604-1" tabindex="-1"></a><span class="co"># Load packages</span></span>
<span id="cb604-2"><a href="linear-regression.html#cb604-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>We will continue exploring the <code>mtcars</code> dataset:</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="linear-regression.html#cb605-1" tabindex="-1"></a><span class="co"># Looks familiar?</span></span>
<span id="cb605-2"><a href="linear-regression.html#cb605-2" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span></code></pre></div>
<p>This dataset contains information about different features of some cars that we will use to predict fuel efficiency (the <code>mpg</code> variable).</p>
</div>
<div id="predicting-a-numeric-response-with-a-numeric-predictor" class="section level2 hasAnchor" number="21.2">
<h2><span class="header-section-number">21.2</span> 1. Predicting a numeric response with a numeric predictor<a href="linear-regression.html#predicting-a-numeric-response-with-a-numeric-predictor" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, let’s try to predict the <code>mpg</code> based on the weight of a car <code>wt</code>.</p>
<div id="a.-visualizing-the-model" class="section level3 hasAnchor" number="21.2.1">
<h3><span class="header-section-number">21.2.1</span> a. Visualizing the model<a href="linear-regression.html#a.-visualizing-the-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Using <code>geom_smooth()</code> we can visualize the linear regression model with <code>method = lm</code>:</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="linear-regression.html#cb606-1" tabindex="-1"></a><span class="co"># Represent the relationship with a model</span></span>
<span id="cb606-2"><a href="linear-regression.html#cb606-2" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb606-3"><a href="linear-regression.html#cb606-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> wt, <span class="at">y =</span> mpg)) <span class="sc">+</span></span>
<span id="cb606-4"><a href="linear-regression.html#cb606-4" tabindex="-1"></a>  <span class="co"># Consider a linear regression model</span></span>
<span id="cb606-5"><a href="linear-regression.html#cb606-5" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb606-6"><a href="linear-regression.html#cb606-6" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span> </span>
<span id="cb606-7"><a href="linear-regression.html#cb606-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Weight (thousands of lbs)&quot;</span>,</span>
<span id="cb606-8"><a href="linear-regression.html#cb606-8" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Miles per gallon&quot;</span>,</span>
<span id="cb606-9"><a href="linear-regression.html#cb606-9" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Linear regression model to predict Miles per gallon based on Weight&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-332-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>How did R choose what line to fit this data?</p>
</div>
<div id="b.-fitting-a-model" class="section level3 hasAnchor" number="21.2.2">
<h3><span class="header-section-number">21.2.2</span> b. Fitting a model<a href="linear-regression.html#b.-fitting-a-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If we suspect there is a linear relationship between two variables, we can consider a linear regression model. To find the expression of the linear model represented above, we use the <code>lm(response ~ predictor, data = ...)</code> function:</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="linear-regression.html#cb607-1" tabindex="-1"></a><span class="co"># Fit the model</span></span>
<span id="cb607-2"><a href="linear-regression.html#cb607-2" tabindex="-1"></a>fit_lin <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt, <span class="at">data =</span> mtcars)</span>
<span id="cb607-3"><a href="linear-regression.html#cb607-3" tabindex="-1"></a></span>
<span id="cb607-4"><a href="linear-regression.html#cb607-4" tabindex="-1"></a><span class="co"># Take a look at the model summary</span></span>
<span id="cb607-5"><a href="linear-regression.html#cb607-5" tabindex="-1"></a><span class="fu">summary</span>(fit_lin)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ wt, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.5432 -2.3647 -0.1252  1.4096  6.8727 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  37.2851     1.8776  19.858  &lt; 2e-16 ***
## wt           -5.3445     0.5591  -9.559 1.29e-10 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.046 on 30 degrees of freedom
## Multiple R-squared:  0.7528, Adjusted R-squared:  0.7446 
## F-statistic: 91.38 on 1 and 30 DF,  p-value: 1.294e-10</code></pre>
<p>This output tells us a lot of things. In particular, it gives us the estimates of the model. We predict the value of <code>mpg</code> if we know the weight <code>wt</code> of a car as follows:</p>
<p><span class="math inline">\(\widehat{mpg} = 37.2851 - 5.3445 * wt\)</span></p>
<p><em>Note: We use the hat to specify that we get predicted values of mpg (as opposed to <code>mpg</code>, the observed values in the dataset).</em></p>
</div>
<div id="c.-predicting-values" class="section level3 hasAnchor" number="21.2.3">
<h3><span class="header-section-number">21.2.3</span> c. Predicting values<a href="linear-regression.html#c.-predicting-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s use the expression of the model to calculate predicted values.</p>
<div id="try-it-use-the-expression-of-the-model-above-to-create-a-new-variable-in-mtcars-called-predicted-that-predicts-values-of-mpg-based-on-values-of-wt.-then-calculate-the-mean-of-the-predicted-values.-how-does-the-mean-of-predicted-values-compare-to-the-mean-of-the-observed-mpg" class="section level4 hasAnchor" number="21.2.3.1">
<h4><span class="header-section-number">21.2.3.1</span> <strong>Try it! Use the expression of the model above to create a new variable in <code>mtcars</code> called <code>predicted</code> that predicts values of <code>mpg</code> based on values of <code>wt</code>. Then calculate the mean of the predicted values. How does the mean of <code>predicted</code> values compare to the mean of the observed <code>mpg</code>?</strong><a href="linear-regression.html#try-it-use-the-expression-of-the-model-above-to-create-a-new-variable-in-mtcars-called-predicted-that-predicts-values-of-mpg-based-on-values-of-wt.-then-calculate-the-mean-of-the-predicted-values.-how-does-the-mean-of-predicted-values-compare-to-the-mean-of-the-observed-mpg" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="linear-regression.html#cb609-1" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb609-2"><a href="linear-regression.html#cb609-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">predicted =</span> <span class="fl">37.2851</span> <span class="sc">-</span> <span class="fl">5.3445</span><span class="sc">*</span>wt) <span class="sc">|&gt;</span></span>
<span id="cb609-3"><a href="linear-regression.html#cb609-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(predicted))</span>
<span id="cb609-4"><a href="linear-regression.html#cb609-4" tabindex="-1"></a></span>
<span id="cb609-5"><a href="linear-regression.html#cb609-5" tabindex="-1"></a><span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg)</span></code></pre></div>
<pre><code>## [1] 20.09062</code></pre>
<p><strong>The two means are very similar! That actually makes sense because of how the linear regression model is defined (but it takes some math to prove that).</strong></p>
<p>Much more convenient to calculate predicted values (especially when we will have more predictors with a longer expression for the model), let’s use the <code>predict(model_name)</code> function:</p>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb611-1"><a href="linear-regression.html#cb611-1" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb611-2"><a href="linear-regression.html#cb611-2" tabindex="-1"></a>  <span class="co"># Calculate predicted values</span></span>
<span id="cb611-3"><a href="linear-regression.html#cb611-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">predicted =</span> <span class="fu">predict</span>(fit_lin)) <span class="sc">|&gt;</span></span>
<span id="cb611-4"><a href="linear-regression.html#cb611-4" tabindex="-1"></a>  <span class="co"># Just show the variables of interest</span></span>
<span id="cb611-5"><a href="linear-regression.html#cb611-5" tabindex="-1"></a>  <span class="fu">select</span>(wt, mpg, predicted)</span></code></pre></div>
<p>We can also find predicted values for new data with the option <code>newdata</code>. For example, I have a Toyota RAV4 that weighs about 3,500 lbs:</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="linear-regression.html#cb612-1" tabindex="-1"></a><span class="co"># Define new data</span></span>
<span id="cb612-2"><a href="linear-regression.html#cb612-2" tabindex="-1"></a>rav4 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">wt =</span> <span class="fl">3.5</span>)</span>
<span id="cb612-3"><a href="linear-regression.html#cb612-3" tabindex="-1"></a></span>
<span id="cb612-4"><a href="linear-regression.html#cb612-4" tabindex="-1"></a><span class="co"># Find predicted values for new data</span></span>
<span id="cb612-5"><a href="linear-regression.html#cb612-5" tabindex="-1"></a><span class="fu">predict</span>(fit_lin, <span class="at">newdata =</span> rav4)</span></code></pre></div>
<pre><code>##        1 
## 18.57948</code></pre>
<p>The predicted fuel consumption is about 18.6 mpg… Well… my car is supposed to get a much better fuel consumption. This is an example of what we call <strong>extrapolation</strong>: we use a model that is not applicable to our new data. The cars contained in <code>mtcars</code> were listed in the 1974 Motor Trend US magazine and my car is from 2017 so fuel efficiency has changed a lot in between!</p>
</div>
<div id="try-it-predict-the-value-of-mpg-for-a-car-that-weighs-3440-lbs.-are-there-any-cars-in-mtcars-that-had-such-a-weight-does-their-observed-value-of-mpg-match-the-predicted-value-why-or-why-not" class="section level4 hasAnchor" number="21.2.3.2">
<h4><span class="header-section-number">21.2.3.2</span> <strong>Try it! Predict the value of <code>mpg</code> for a car that weighs 3,440 lbs. Are there any cars in <code>mtcars</code> that had such a weight? Does their observed value of <code>mpg</code> match the predicted value? Why or why not?</strong><a href="linear-regression.html#try-it-predict-the-value-of-mpg-for-a-car-that-weighs-3440-lbs.-are-there-any-cars-in-mtcars-that-had-such-a-weight-does-their-observed-value-of-mpg-match-the-predicted-value-why-or-why-not" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="linear-regression.html#cb614-1" tabindex="-1"></a><span class="co"># Find predicted values for new data</span></span>
<span id="cb614-2"><a href="linear-regression.html#cb614-2" tabindex="-1"></a><span class="fu">predict</span>(fit_lin, <span class="at">newdata =</span> <span class="fu">data.frame</span>(<span class="at">wt =</span> <span class="fl">3.44</span>))</span></code></pre></div>
<pre><code>##        1 
## 18.90014</code></pre>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="linear-regression.html#cb616-1" tabindex="-1"></a><span class="co"># There are two cars with the same weight, different mpg</span></span>
<span id="cb616-2"><a href="linear-regression.html#cb616-2" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb616-3"><a href="linear-regression.html#cb616-3" tabindex="-1"></a>  <span class="fu">filter</span>(wt <span class="sc">==</span> <span class="fl">3.44</span>) <span class="sc">|&gt;</span></span>
<span id="cb616-4"><a href="linear-regression.html#cb616-4" tabindex="-1"></a>  <span class="fu">select</span>(wt, mpg)</span></code></pre></div>
<p><strong>The predicted value of 18.9 mpg was either above or below the values of <code>mpg</code> for the three cars in the <code>mtcars</code> dataset. Our predicted values don’t usually match the observed values because there is some variation in our data.</strong></p>
</div>
</div>
<div id="d.-residuals" class="section level3 hasAnchor" number="21.2.4">
<h3><span class="header-section-number">21.2.4</span> d. Residuals<a href="linear-regression.html#d.-residuals" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Our predicted values don’t usually match exactly our observed values. The residuals represent the difference between observed values and predicted values:</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="linear-regression.html#cb617-1" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb617-2"><a href="linear-regression.html#cb617-2" tabindex="-1"></a>  <span class="co"># First add predicted values based on model</span></span>
<span id="cb617-3"><a href="linear-regression.html#cb617-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">predicted =</span> <span class="fu">predict</span>(fit_lin)) <span class="sc">|&gt;</span> </span>
<span id="cb617-4"><a href="linear-regression.html#cb617-4" tabindex="-1"></a>  <span class="co"># Calculate residuals = observed - predicted</span></span>
<span id="cb617-5"><a href="linear-regression.html#cb617-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">residuals =</span> mpg <span class="sc">-</span> predicted) <span class="sc">|&gt;</span></span>
<span id="cb617-6"><a href="linear-regression.html#cb617-6" tabindex="-1"></a>  <span class="co"># Only display variables of interest</span></span>
<span id="cb617-7"><a href="linear-regression.html#cb617-7" tabindex="-1"></a>  <span class="fu">select</span>(wt, mpg, predicted, residuals)</span></code></pre></div>
<p>Or more conveniently using the <code>resid(model_name)</code> function:</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="linear-regression.html#cb618-1" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb618-2"><a href="linear-regression.html#cb618-2" tabindex="-1"></a>  <span class="co"># Calculate residuals</span></span>
<span id="cb618-3"><a href="linear-regression.html#cb618-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">residuals =</span> <span class="fu">resid</span>(fit_lin)) <span class="sc">|&gt;</span></span>
<span id="cb618-4"><a href="linear-regression.html#cb618-4" tabindex="-1"></a>  <span class="fu">select</span>(wt, mpg, residuals)</span></code></pre></div>
<p>Let’s visualize the residuals:</p>
<div class="sourceCode" id="cb619"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb619-1"><a href="linear-regression.html#cb619-1" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb619-2"><a href="linear-regression.html#cb619-2" tabindex="-1"></a>  <span class="co"># Calculate predicted values</span></span>
<span id="cb619-3"><a href="linear-regression.html#cb619-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">predicted =</span> <span class="fu">predict</span>(fit_lin)) <span class="sc">|&gt;</span> </span>
<span id="cb619-4"><a href="linear-regression.html#cb619-4" tabindex="-1"></a>  <span class="co"># Use a ggplot to represent the relationship</span></span>
<span id="cb619-5"><a href="linear-regression.html#cb619-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> wt, <span class="at">y =</span> mpg)) <span class="sc">+</span></span>
<span id="cb619-6"><a href="linear-regression.html#cb619-6" tabindex="-1"></a>  <span class="co"># Add the linear model</span></span>
<span id="cb619-7"><a href="linear-regression.html#cb619-7" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb619-8"><a href="linear-regression.html#cb619-8" tabindex="-1"></a>  <span class="co"># Add residuals = vertical segments from observations to predicted</span></span>
<span id="cb619-9"><a href="linear-regression.html#cb619-9" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend =</span> wt, <span class="at">yend =</span> predicted), <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb619-10"><a href="linear-regression.html#cb619-10" tabindex="-1"></a>  <span class="co"># Display the observed data</span></span>
<span id="cb619-11"><a href="linear-regression.html#cb619-11" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb619-12"><a href="linear-regression.html#cb619-12" tabindex="-1"></a>  <span class="co"># Display the predicted (on top of the line)</span></span>
<span id="cb619-13"><a href="linear-regression.html#cb619-13" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> predicted), <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;orange&quot;</span>) <span class="sc">+</span></span>
<span id="cb619-14"><a href="linear-regression.html#cb619-14" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Weight (thousands of lbs)&quot;</span>,</span>
<span id="cb619-15"><a href="linear-regression.html#cb619-15" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Miles per gallon&quot;</span>,</span>
<span id="cb619-16"><a href="linear-regression.html#cb619-16" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Linear regression model with residuals&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-340-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>A linear regression model is actually built by minimizing the sum of squared residuals.</p>
<div id="try-it-find-the-mean-of-the-residuals.-why-does-it-make-sense-to-get-this-value" class="section level4 hasAnchor" number="21.2.4.1">
<h4><span class="header-section-number">21.2.4.1</span> <strong>Try it! Find the mean of the residuals. Why does it make sense to get this value?</strong><a href="linear-regression.html#try-it-find-the-mean-of-the-residuals.-why-does-it-make-sense-to-get-this-value" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="linear-regression.html#cb620-1" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb620-2"><a href="linear-regression.html#cb620-2" tabindex="-1"></a>  <span class="co"># Calculate residuals</span></span>
<span id="cb620-3"><a href="linear-regression.html#cb620-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">residuals =</span> <span class="fu">resid</span>(fit_lin)) <span class="sc">|&gt;</span></span>
<span id="cb620-4"><a href="linear-regression.html#cb620-4" tabindex="-1"></a>  <span class="co"># Find the mean</span></span>
<span id="cb620-5"><a href="linear-regression.html#cb620-5" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(residuals))</span></code></pre></div>
<p><strong>We should find 0 (not exactly 0 because of rounding). It makes sense because all of the data points balance each other.</strong></p>
</div>
</div>
<div id="e.-performance" class="section level3 hasAnchor" number="21.2.5">
<h3><span class="header-section-number">21.2.5</span> e. Performance<a href="linear-regression.html#e.-performance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To quantify performance for linear regression models, we can consider the average distance between the predicted values from the model and the observed values in the dataset. This is called the root mean square error (RMSE) of the model.</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb621-1"><a href="linear-regression.html#cb621-1" tabindex="-1"></a><span class="co"># Calculate RMSE of regression model: square root of mean residuals squared</span></span>
<span id="cb621-2"><a href="linear-regression.html#cb621-2" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">mean</span>(<span class="fu">resid</span>(fit_lin)<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 2.949163</code></pre>
<p>The lower the RMSE, the better a model fits a dataset and the more reliable our predicted values can be. Note that the RMSE is reported in the same unit as the <strong>outcome</strong> variable. Here it means that the predicted values typically differ from the actual values of <code>mpg</code> by 2.95 mpg.</p>
<p>We can also consider the adjusted coefficient of determination <span class="math inline">\(R^2\)</span>, which reports the percentage of variation in the response variable that can be explained by the predictor variables.</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="linear-regression.html#cb623-1" tabindex="-1"></a><span class="co"># Report adjusted R-squared of regression model</span></span>
<span id="cb623-2"><a href="linear-regression.html#cb623-2" tabindex="-1"></a><span class="fu">summary</span>(fit_lin)<span class="sc">$</span>adj.r.squared</span></code></pre></div>
<pre><code>## [1] 0.7445939</code></pre>
<p>The higher the <span class="math inline">\(R^2\)</span>, the better a model fits a dataset. Note that <span class="math inline">\(R^2\)</span> represents a proportion between 0 and 1. Here it means that about 74.5% of the variation in <code>mgp</code> can be explained by the weight of a car.</p>
<div id="try-it-predict-mpg-based-on-another-numeric-feature-of-the-car-for-example-disp-hp-.-is-the-model-with-this-new-predictor-performing-better-or-worse-than-the-model-based-on-mpg" class="section level4 hasAnchor" number="21.2.5.1">
<h4><span class="header-section-number">21.2.5.1</span> <strong>Try it! Predict <code>mpg</code> based on another numeric feature of the car (for example, <code>disp</code>, <code>hp</code>, …). Is the model with this new predictor performing better or worse than the model based on <code>mpg</code>?</strong><a href="linear-regression.html#try-it-predict-mpg-based-on-another-numeric-feature-of-the-car-for-example-disp-hp-.-is-the-model-with-this-new-predictor-performing-better-or-worse-than-the-model-based-on-mpg" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="linear-regression.html#cb625-1" tabindex="-1"></a><span class="co"># Fit the model with disp</span></span>
<span id="cb625-2"><a href="linear-regression.html#cb625-2" tabindex="-1"></a>fit_lin <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> disp, <span class="at">data =</span> mtcars)</span>
<span id="cb625-3"><a href="linear-regression.html#cb625-3" tabindex="-1"></a></span>
<span id="cb625-4"><a href="linear-regression.html#cb625-4" tabindex="-1"></a><span class="co"># Performance based on RMSE</span></span>
<span id="cb625-5"><a href="linear-regression.html#cb625-5" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">mean</span>(<span class="fu">resid</span>(fit_lin)<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 3.148207</code></pre>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="linear-regression.html#cb627-1" tabindex="-1"></a><span class="co"># Performance based on adjusted R-squared</span></span>
<span id="cb627-2"><a href="linear-regression.html#cb627-2" tabindex="-1"></a><span class="fu">summary</span>(fit_lin)<span class="sc">$</span>adj.r.squared</span></code></pre></div>
<pre><code>## [1] 0.7089548</code></pre>
<p><strong>The model with <code>disp</code> is not performing better (higher RMSE and lower adjusted R-squared).</strong></p>
</div>
</div>
</div>
<div id="using-a-categorical-predictor" class="section level2 hasAnchor" number="21.3">
<h2><span class="header-section-number">21.3</span> 2. Using a categorical predictor<a href="linear-regression.html#using-a-categorical-predictor" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>What if we chose to predict the fuel consumption based on the transmission of a car (the <code>am</code> variable, 0 = automatic vs 1 = manual)? Let’s take a look at the relationship with this new predictor:</p>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="linear-regression.html#cb629-1" tabindex="-1"></a><span class="co"># Represent the relationship </span></span>
<span id="cb629-2"><a href="linear-regression.html#cb629-2" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb629-3"><a href="linear-regression.html#cb629-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> am, <span class="at">y =</span> mpg)) <span class="sc">+</span></span>
<span id="cb629-4"><a href="linear-regression.html#cb629-4" tabindex="-1"></a>  <span class="co"># Consider a linear regression model</span></span>
<span id="cb629-5"><a href="linear-regression.html#cb629-5" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb629-6"><a href="linear-regression.html#cb629-6" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span> </span>
<span id="cb629-7"><a href="linear-regression.html#cb629-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Transmission (0 = automatic vs 1 = manual)&quot;</span>,</span>
<span id="cb629-8"><a href="linear-regression.html#cb629-8" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Miles per gallon&quot;</span>,</span>
<span id="cb629-9"><a href="linear-regression.html#cb629-9" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Linear regression model to predict Miles per gallon based on Transmission&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-345-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>It doesn’t really look like a linear relationship but we can still fit a linear regression model with the <code>am</code> predictor:</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb630-1"><a href="linear-regression.html#cb630-1" tabindex="-1"></a><span class="co"># Fit the model</span></span>
<span id="cb630-2"><a href="linear-regression.html#cb630-2" tabindex="-1"></a>fit_lin <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> am, <span class="at">data =</span> mtcars)</span>
<span id="cb630-3"><a href="linear-regression.html#cb630-3" tabindex="-1"></a></span>
<span id="cb630-4"><a href="linear-regression.html#cb630-4" tabindex="-1"></a><span class="co"># Take a look at the model summary</span></span>
<span id="cb630-5"><a href="linear-regression.html#cb630-5" tabindex="-1"></a><span class="fu">summary</span>(fit_lin)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ am, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -9.3923 -3.0923 -0.2974  3.2439  9.5077 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   17.147      1.125  15.247 1.13e-15 ***
## am             7.245      1.764   4.106 0.000285 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 4.902 on 30 degrees of freedom
## Multiple R-squared:  0.3598, Adjusted R-squared:  0.3385 
## F-statistic: 16.86 on 1 and 30 DF,  p-value: 0.000285</code></pre>
<div id="try-it-write-the-expression-of-the-new-model.-predict-values-of-mpg-based-on-am-using-predict.-why-does-it-make-sense-to-get-what-we-get-and-what-are-we-getting-exactly" class="section level4 hasAnchor" number="21.3.0.1">
<h4><span class="header-section-number">21.3.0.1</span> <strong>Try it! Write the expression of the new model. Predict values of <code>mpg</code> based on <code>am</code> using <code>predict()</code>. Why does it make sense to get what we get? And what are we getting exactly?</strong><a href="linear-regression.html#try-it-write-the-expression-of-the-new-model.-predict-values-of-mpg-based-on-am-using-predict.-why-does-it-make-sense-to-get-what-we-get-and-what-are-we-getting-exactly" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="linear-regression.html#cb632-1" tabindex="-1"></a><span class="co"># Look at the predicted values</span></span>
<span id="cb632-2"><a href="linear-regression.html#cb632-2" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb632-3"><a href="linear-regression.html#cb632-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">predicted =</span> <span class="fu">predict</span>(fit_lin)) <span class="sc">|&gt;</span></span>
<span id="cb632-4"><a href="linear-regression.html#cb632-4" tabindex="-1"></a>  <span class="fu">select</span>(am, mpg, predicted)</span>
<span id="cb632-5"><a href="linear-regression.html#cb632-5" tabindex="-1"></a></span>
<span id="cb632-6"><a href="linear-regression.html#cb632-6" tabindex="-1"></a><span class="co"># Mean mpg per type of transmission</span></span>
<span id="cb632-7"><a href="linear-regression.html#cb632-7" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span></span>
<span id="cb632-8"><a href="linear-regression.html#cb632-8" tabindex="-1"></a>  <span class="fu">group_by</span>(am) <span class="sc">|&gt;</span></span>
<span id="cb632-9"><a href="linear-regression.html#cb632-9" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_mpg =</span> <span class="fu">mean</span>(mpg))</span></code></pre></div>
<p>The expression of the model is <span class="math inline">\(\widehat{mpg}=17.147+7.245∗am\)</span></p>
<p><strong>We get only two possible predicted values which correspond to the mean value of <code>mpg</code> for each type of transmission.</strong></p>
</div>
</div>
<div id="using-multiple-predictors" class="section level2 hasAnchor" number="21.4">
<h2><span class="header-section-number">21.4</span> 3. Using multiple predictors<a href="linear-regression.html#using-multiple-predictors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can add many predictors to our linear regression model! What if we combine <code>wt</code> and <code>am</code>?</p>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb633-1"><a href="linear-regression.html#cb633-1" tabindex="-1"></a><span class="co"># Fit the model</span></span>
<span id="cb633-2"><a href="linear-regression.html#cb633-2" tabindex="-1"></a>fit_lin <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt <span class="sc">+</span> am, <span class="at">data =</span> mtcars)</span>
<span id="cb633-3"><a href="linear-regression.html#cb633-3" tabindex="-1"></a></span>
<span id="cb633-4"><a href="linear-regression.html#cb633-4" tabindex="-1"></a><span class="co"># Take a look at the model summary</span></span>
<span id="cb633-5"><a href="linear-regression.html#cb633-5" tabindex="-1"></a><span class="fu">summary</span>(fit_lin)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ wt + am, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.5295 -2.3619 -0.1317  1.4025  6.8782 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 37.32155    3.05464  12.218 5.84e-13 ***
## wt          -5.35281    0.78824  -6.791 1.87e-07 ***
## am          -0.02362    1.54565  -0.015    0.988    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.098 on 29 degrees of freedom
## Multiple R-squared:  0.7528, Adjusted R-squared:  0.7358 
## F-statistic: 44.17 on 2 and 29 DF,  p-value: 1.579e-09</code></pre>
<div id="try-it-predict-the-value-of-mpg-for-an-automatic-alfa-romeo-alfetta-gtv-2.0-which-weighs-about-2500-lbs." class="section level4 hasAnchor" number="21.4.0.1">
<h4><span class="header-section-number">21.4.0.1</span> <strong>Try it! Predict the value of <code>mpg</code> for an automatic Alfa Romeo Alfetta GTV 2.0 which weighs about 2500 lbs.</strong><a href="linear-regression.html#try-it-predict-the-value-of-mpg-for-an-automatic-alfa-romeo-alfetta-gtv-2.0-which-weighs-about-2500-lbs." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb635-1"><a href="linear-regression.html#cb635-1" tabindex="-1"></a><span class="co"># Find predicted values for new data</span></span>
<span id="cb635-2"><a href="linear-regression.html#cb635-2" tabindex="-1"></a>alfa <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">wt =</span> <span class="fl">2.5</span>, <span class="at">am =</span> <span class="dv">0</span>)</span>
<span id="cb635-3"><a href="linear-regression.html#cb635-3" tabindex="-1"></a><span class="fu">predict</span>(fit_lin, <span class="at">newdata =</span> alfa)</span></code></pre></div>
<pre><code>##        1 
## 23.93952</code></pre>
<p><strong>The predicted value of <code>mpg</code> is about 24 mpg for this car.</strong></p>
<p>And what if we add all possible predictors?</p>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="linear-regression.html#cb637-1" tabindex="-1"></a><span class="co"># Fit the model using all predictors: refer to all variable with `.` (always double check it makes sense to add all predictors)</span></span>
<span id="cb637-2"><a href="linear-regression.html#cb637-2" tabindex="-1"></a>fit_lin <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> ., <span class="at">data =</span> mtcars)</span>
<span id="cb637-3"><a href="linear-regression.html#cb637-3" tabindex="-1"></a></span>
<span id="cb637-4"><a href="linear-regression.html#cb637-4" tabindex="-1"></a><span class="co"># Take a look at the model summary</span></span>
<span id="cb637-5"><a href="linear-regression.html#cb637-5" tabindex="-1"></a><span class="fu">summary</span>(fit_lin)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ ., data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.4506 -1.6044 -0.1196  1.2193  4.6271 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)  
## (Intercept) 12.30337   18.71788   0.657   0.5181  
## cyl         -0.11144    1.04502  -0.107   0.9161  
## disp         0.01334    0.01786   0.747   0.4635  
## hp          -0.02148    0.02177  -0.987   0.3350  
## drat         0.78711    1.63537   0.481   0.6353  
## wt          -3.71530    1.89441  -1.961   0.0633 .
## qsec         0.82104    0.73084   1.123   0.2739  
## vs           0.31776    2.10451   0.151   0.8814  
## am           2.52023    2.05665   1.225   0.2340  
## gear         0.65541    1.49326   0.439   0.6652  
##  [ reached getOption(&quot;max.print&quot;) -- omitted 1 row ]
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.65 on 21 degrees of freedom
## Multiple R-squared:  0.869,  Adjusted R-squared:  0.8066 
## F-statistic: 13.93 on 10 and 21 DF,  p-value: 3.793e-07</code></pre>
<p>Now the expression of the model becomes very complex but check out the performance based on adjusted R-squared!</p>
<hr />
<p>Notes:</p>
<ul>
<li><p>Adding too many variables can create issues such as <strong>overfitting</strong>: the model is too specific to the cars in the dataset on which we “train” the model and it will be very difficult to generalize to other cars.</p></li>
<li><p>We can quickly check which features might be more useful for making predicted by looking at the last column in the model output. Any <code>.</code> or <code>*</code> shows which features are “significant” while taking into account all other variables.</p></li>
</ul>
<hr />
</div>
</div>
<div id="recommended-resources-19" class="section level2 hasAnchor" number="21.5">
<h2><span class="header-section-number">21.5</span> Recommended Resources<a href="linear-regression.html#recommended-resources-19" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Worksheet keys are posted at the end of the week on Canvas under <strong>Programming Tools</strong>.</li>
<li>Recommended readings: <a href="http://rafalab.dfci.harvard.edu/dsbook/examples-of-algorithms.html#linear-regression">Linear regression</a></li>
<li>More details on <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/lm">lm()</a></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="supervised-learning.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="model-selection.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
